<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home</title>
    <!-- <link rel="stylesheet" href="home.css"> -->
    <link rel="stylesheet" href="https://ssl.gstatic.com/docs/script/css/add-ons1.css">
    <style>
      @import url("https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css");
      @import url('https://fonts.googleapis.com/css?family=Segoe+UI:400');
      .bar-none-citations {
        background-color: transparent;
        color: white;
        font-size: 24px;
        height: 42px;
        line-height: 30px;
        position: absolute;
        right: 42px;
        text-align: left;
        top: 12px;
        white-space: nowrap;
        width: 200px;
      }
      .default-border {
        border: 1px solid var(--dove-gray);
      }
      .header-button-text {
        background-color: transparent;
        color: black;
        font-size: 16px;
        height: calc(100.00% - 0px);
        line-height: 22px;
        position: absolute;
        right: calc(46.15% - 0px);
        text-align: center;
        top: 7px;
        white-space: nowrap;
        width: 48px;
      }
      .search-field-container {
        background-color: transparent;
        height: 33px;
        left: 30px;
        position: absolute;
        top: calc(22.76% - 8px);
        width: 211px;
      }
      .enter-case-statue-name {
  
        font-size: 14px;
        height: 28px;
        left: 29px;
        line-height: 16px;
        position: absolute;
        text-align: left;
        top: calc(23.95% - 14px);
        white-space: nowrap;
        width: 163px;
      }
      .default-font {
        font-family: 'Segoe UI', Helvetica, Arial, serif;
        font-style: normal;
        font-weight: 400;
      }
      .rules-button-container {
        background-color: transparent;
        height: 35px;
        position: absolute;
        right: 40px;
        top: 62px;
        width: 70px;
      }
      .header {
        background-color: maroon;
        flex-shrink: 0;
        height: 547px;
        margin-top: 0px;
        position: relative;
        width: 300px;
      }
      .statute-button-container {
        background-color: transparent;
        height: 35px;
        position: absolute;
        right: calc(47.24% - 65px);
        top: 62px;
        width: 70px;
      }
      .case-button-container {
        background-color: transparent;
        height: 35px;
        left: 69px;
        position: absolute;
        top: 62px;
        width: 70px;
      }
      .legal-icon {
        background-color: transparent;
        height: 45px;
        left: 8px;
        position: absolute;
        top: 5px;
        width: 45px;
        border-color: transparent;
      }
      .search-container-location {
        background-color: transparent;
        height: calc(100.00% + 18px);
        left: -9px;
        position: absolute;
        top: -6px;
        width: calc(100.00% - 26px);
      }
      .header-buttons {
        background-color: var(--pink-swan);
        border-radius: 17px;
        height: calc(100.00% - 1px);
        left: 0px;
        position: absolute;
        top: 1px;
        width: 100%;
      }
      .bottom-half {
        background-color: white;
        height: calc(100.00% - 173px);
        left: 0px;
        position: absolute;
        top: 173px;
        width: 300px;
      }
      .search-button {
        background-color: transparent;
        height: 51px;
        position: absolute;
        right: 22px;
        top: calc(22.38% - 11px);
        width: 80px;
      }
      .results-box {
        background-color: white;
        bottom: 37px;
        height: 294px;
        left: 22px;
        position: absolute;
        width: calc(100.00% - 52px);
      }
      .rules {
        background-color: transparent;
        color: black;
        font-size: 22px;
        height: calc(100.00% - 3px);
        line-height: 22px;
        position: absolute;
        right: calc(36.36% - 20px);
        text-align: left;
        top: 7px;
        white-space: nowrap;
        width: 54px;
      }
      .search {
        background-color: transparent;
        color: white;
        font-size: 14px;
        height: 34px;
        line-height: 16px;
        position: absolute;
        right: calc(17.12% - 24px);
        text-align: center;
        top: calc(23.95% - 14px);
        white-space: nowrap;
        width: 68px;
      }
      .search-results {
        background-color: transparent;
        color: black;
        font-size: 15px;
        height: 22px;
        left: 17px;
        line-height: 15px;
        position: absolute;
        text-align: left;
        top: calc(36.10% - 8px);
        white-space: nowrap;
        width: 100px;
      }
      .statute {
        background-color: transparent;
        color: black;
        font-size: 22px;
        height: calc(100.00% - 3px);
        left: 13px;
        line-height: 22px;
        position: absolute;
        text-align: left;
        top: 7px;
        white-space: nowrap;
        width: calc(100.00% - 22px);
      }
      :root {
        --alto: rgba(226,218,218,1.0);
        --dove-gray: rgba(112,112,112,1.0);
        --pink-swan: rgba(187,187,187,1.0);
        --stack: rgba(138,138,138,1.0);
      }
    </style>
    <script>
      var scCases = [["329 U.S. 1", "67 S. Ct. 6", "91 L. Ed. 3", "1946", "HALLIBURTON OIL WELL CEMENTING CO. v. WALKER"],
                      ["444 U.S. 507","100 S. Ct. 763","62 L. Ed. 2d 704","1979", "SNEPP v. UNITED STATES"],
                      ["530 U.S. 290", "120 S. Ct. 2266", "147 L. Ed. 2d 295", "1999", "SANTA FE INDEPENDENT SCHOOL DISTRICT v. JANE DOE"],
                      ["575 U.S. 480", "135 S. Ct. 1645","191 L. Ed. 2d 607","2014","MACH MINING, LLC, v. EQUAL EMPLOYMENT OPPORTUNITY COMMISSION"],
                      ["", "140 S. Ct. 2019", "207 L. Ed. 2d 951", "2019", "TRUMP v. MAZARS USA, LLP"]]
      var citeStyle = 0;
      var recentCitations = [];

      function addCitation(){
        var citation = google.script.run.getCitation();
        recentCitations.push(citation);
        alert(citation);
      }
      function customAlert(info) {
        alert(info);
      }
      function searchClicked(style) {
        // var script = document.createElement('script');
        // script.src = 'https://code.jquery.com/jquery-3.4.1.min.js';
        // script.type = 'text/javascript';
        // document.getElementsByTagName('head')[0].appendChild(script);
        // var test;
        // jQuery.ajax({ url: "https://github.com/realcadecon/barNoneCitationsFileRepo/blob/master/SCCases.xlsx?raw=true", type: 'get', datatype: 'xml', success: function(data) 
        //                       { test = data; }, error: function(jqXHR, textStatus, errorThrow)
        //                       { alert("Error: " + jqXHR['responseText']); } });
        var div = document.getElementById('searchOrCite');
        div.innerHTML = 'Search Results:';
        switch (style) {
          case 0:
            alert ("You need to choose whether you are citing a case, rule, or statute");
            //alert(test);
            break;
          case 1:
            // google.script.run.withSuccessHandler(customAlert).openSheet();
            var div = document.getElementById("resultsboxid");
            var resultString = div.innerHTML;
            //withSuccessHandler(function() { google.script.run.showCaseDialog(); }).setDataFromSideBar()"
            div.innerHTML = 
            `<ul> 
            <li><input type="button" value="Case 1" onclick="google.script.run.showCaseDialog()"></li>
            <li><input type="button" value="Case 2" onclick="google.script.run.showCaseDialog()"></li>
            <li><input type="button" value="Case 3" onclick="google.script.run.showCaseDialog()"></li>
            </ul>`;
            break;
          case 2:
            var div = document.getElementById("resultsboxid");
            var resultString = div.innerHTML;
            div.innerHTML = 
            `<ul>
            <li><input type="button" value="Case 1" onclick="google.script.run.showStatuteDialog()"></li>
            <li><input type="button" value="Case 2" onclick="google.script.run.showStatuteDialog()"></li>
            <li><input type="button" value="Case 3" onclick="google.script.run.showStatuteDialog()"></li>
            </ul>`;
            break;
          case 3:
            var div = document.getElementById("resultsboxid");
            var resultString = div.innerHTML;
            div.innerHTML = 
            `<ul>
            <li><input type="button" value="Case 1" onclick="google.script.run.showRuleDialog()"></li>
            <li><input type="button" value="Case 2" onclick="google.script.run.showRuleDialog()"></li>
            <li><input type="button" value="Case 3" onclick="google.script.run.showRuleDialog()"></li>
            </ul>`;
            break;
        }
      }  

      function iconClicked() {
        addCitation();
        var div = document.getElementById('searchOrCite');
        div.innerHTML = 'Recent Citations:';
        var resultString = document.getElementById("resultsboxid").innerHTML;
        resultString = "<ul>";
        var i;
        for(i in recentCitations){
          resultString +="<li>" + i + "</li>";
        }
        resultString+="</ul>";
      }

      function generalClicked (index) {
        switch(index) {
          case 1:
            searchClicked(citeStyle);
            break;
          case 2:
            citeStyle = 1;
            document.getElementById("case").style.background='#A9A9A9';
            document.getElementById("statute").style.background='#f1f1f1';
            // document.getElementById("rules").style.background='#f1f1f1';
            break;
          case 3:
            citeStyle = 2;
            document.getElementById("statute").style.background='#A9A9A9';
            document.getElementById("case").style.background='#f1f1f1';
            // document.getElementById("rules").style.background='#f1f1f1';
            break;
          case 4:
            citeStyle = 3;
            // document.getElementById("rules").style.background='#A9A9A9';
            document.getElementById("case").style.background='#f1f1f1';
            document.getElementById("statute").style.background='#f1f1f1';
            break;
          case 5:
            iconClicked();
            break;
        }
    }     
    </script>
</head>
<body>
  <div class="header grid-child">
    <h1 class="bar-none-citations default-font">Bar None Citations</h1>
    <a onclick="generalClicked(5)">
      <img class="legal-icon" src="https://anima-uploads.s3.amazonaws.com/projects/5f981fab6395527a14058a31/releases/5f981fb2e901303153a036cc/img/legalicon@1x.png"/>
    </a>
      <!-- <input type="submit" class = "legal-icon" value = "" onclick="generalClicked(5)"> -->
      <div class="case-button-container">
          <input type="button" id= "case" class = "case-button-container header-buttons default-border header-button-text default-font" value="Case" onclick="generalClicked(2)">
      </div>
      <div class="statute-button-container">
        <input type="button" id="statute" class = "header-buttons default-border header-button-text default-font" value="Statute" onclick="generalClicked(3)">
      </div>
      <!-- <div class="rules-button-container">
          <input type ="button" id="rules" class = "header-buttons default-border header-button-text default-font" value = "Rules" onclick="generalClicked(4)">
      </div> -->
      
      <input type="text" class ="enter-case-statue-name" name="search-name" placeholder="Enter case or statue name">
      <input type="button" class = "search-button search action" value = "Search"  onclick="generalClicked(1)">
      <div class="bottom-half"></div>
      <div id="searchOrCite" class="search-results default-font">Recent Citations:</div>
      <div id="resultsboxid" class="results-box default-border"></div> 
    </div>
</body>
</html>